{"version":3,"sources":["context.js","Components/SearchComponent/SearchComponent.jsx","Components/Burger/Burger.jsx","Components/Header/Header.jsx","consts.js","services/dateTransform.js","Components/SinglePost/SinglePost.jsx","config.js","services/api/postsApi.js","Components/Loader/Loader.jsx","Components/Message/Message.jsx","Pages/Posts/Posts.jsx","Components/Footer/Footer.jsx","Pages/Post/Post.jsx","App.jsx","index.js"],"names":["PostsContext","createContext","SearchComponent","useContext","initPosts","setFilteredPosts","useState","search","setSearch","className","type","onChange","e","target","value","onClick","filteredArr","filter","post","webTitle","toLowerCase","includes","Burger","currentTarget","classList","toggle","Header","history","useHistory","push","months","0","1","2","3","4","5","6","7","8","9","10","11","tailFinder","day","tail","dateTransformToString","isoDate","parsedDate","Date","month","getMonth","getDate","dayTail","year","getFullYear","SinglePost","redirectToPost","id","pathname","dateToShow","webPublicationDate","src","fields","thumbnail","alt","bodyText","slice","query","loadPosts","axios","get","Loader","Message","msg","Posts","filteredPosts","setInitPosts","isLoading","setIsLoading","isAnchorVisible","setIsAnchorVisible","handleScroll","window","scrollY","useEffect","a","result","posts","data","response","results","sort","b","console","log","fetchData","addEventListener","removeEventListener","length","map","scrollTo","top","Footer","Post","useParams","find","item","App","Provider","basename","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f9ecf22c.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\nconst PostsContext = createContext();\r\n\r\nexport default PostsContext;\r\n","import { useState } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport PostsContext from \"../../context\";\r\nimport \"./searchComponent.css\";\r\n\r\nconst SearchComponent = () => {\r\n  const { initPosts, setFilteredPosts } = useContext(PostsContext);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    if (search) {\r\n      const filteredArr = initPosts.filter((post) =>\r\n        post.webTitle.toLowerCase().includes(search.toLowerCase())\r\n      );\r\n      setFilteredPosts(filteredArr);\r\n    } else {\r\n      setFilteredPosts([]);\r\n    }\r\n  };\r\n\r\n  const clearSearch = () => {\r\n    setFilteredPosts(initPosts);\r\n    setSearch(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"search-wrapper\">\r\n        <input type=\"text\" onChange={handleChange} value={search} />\r\n      </div>\r\n      <button onClick={handleSearch} className=\"btn search\">\r\n        SEARCH\r\n      </button>\r\n      <button onClick={clearSearch} className=\"btn clear\">\r\n        CLEAR\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchComponent;\r\n","import \"./burger.css\";\r\n\r\nconst Burger = () => {\r\n  const handleClick = (e) => {\r\n    const element = e.currentTarget;\r\n    element.classList.toggle(\"open\");\r\n  };\r\n  return (\r\n    <button onClick={handleClick} className=\"burger-menu-button\">\r\n      <div className=\"bar-top\"></div>\r\n      <div className=\"bar-mid\"></div>\r\n      <div className=\"bar-bottom\"></div>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Burger;\r\n","import { useHistory } from \"react-router\";\r\nimport SearchComponent from \"../SearchComponent/SearchComponent\";\r\nimport Burger from \"../Burger/Burger\";\r\nimport \"./header.css\";\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n  const redirectToHome = () => {\r\n    history.push(\"/\");\r\n  };\r\n  return (\r\n    <div className=\"header-wrapper\">\r\n      <div className=\"logo\" onClick={redirectToHome}>\r\n        News App\r\n      </div>\r\n      <div className=\"search-wrapper\">\r\n        <SearchComponent />\r\n      </div>\r\n      <Burger />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export const categories = [\r\n  \"Sport\",\r\n  \"World\",\r\n  \"Covid\",\r\n  \"Business\",\r\n  \"Politics\",\r\n  \"Science\",\r\n  \"Religion\",\r\n  \"Health\",\r\n];\r\n\r\nexport const months = {\r\n  0: \"January\",\r\n  1: \"February\",\r\n  2: \"March\",\r\n  3: \"April\",\r\n  4: \"May\",\r\n  5: \"June\",\r\n  6: \"July\",\r\n  7: \"August\",\r\n  8: \"September\",\r\n  9: \"October\",\r\n  10: \"November\",\r\n  11: \"December\",\r\n};\r\n","import { months } from \"../consts\";\r\n\r\nconst dateTransformToString = (isoDate) => {\r\n  const parsedDate = new Date(isoDate);\r\n  const month = months[parsedDate.getMonth()];\r\n  const day = parsedDate.getDate();\r\n  const dayTail = tailFinder(day);\r\n  const year = parsedDate.getFullYear();\r\n  const dateString = `${month} ${day}${dayTail} ${year}`;\r\n  return dateString;\r\n};\r\n\r\nconst tailFinder = (day) => {\r\n  let tail = \"\";\r\n  switch (day) {\r\n    case 1:\r\n      tail = \"st\";\r\n      break;\r\n    case 2:\r\n      tail = \"nd\";\r\n      break;\r\n    case 3:\r\n      tail = \"rd\";\r\n      break;\r\n    default:\r\n      tail = \"th\";\r\n  }\r\n  return tail;\r\n};\r\n\r\nexport default dateTransformToString;\r\n","import { useHistory } from \"react-router\";\r\nimport dateTransformToString from \"../../services/dateTransform\";\r\nimport \"./singlePost.css\";\r\n\r\nconst SinglePost = ({ post }) => {\r\n  const history = useHistory();\r\n  // console.log(post);\r\n  const redirectToPost = (e, id) => {\r\n    history.push({\r\n      pathname: `/post/${id}`,\r\n    });\r\n  };\r\n  const dateToShow = dateTransformToString(post.webPublicationDate);\r\n\r\n  return (\r\n    <div key={post.id} className=\"post-card\">\r\n      <div className=\"post-card-inner\">\r\n        <div className=\"post-image\" onClick={(e) => redirectToPost(e, post.id)}>\r\n          <img src={post.fields.thumbnail} alt=\"thumbnail-post\" />\r\n        </div>\r\n        <div className=\"post-title\" onClick={(e) => redirectToPost(e, post.id)}>\r\n          {post.webTitle}\r\n        </div>\r\n        <div className=\"post-main\">{post.fields.bodyText.slice(0, 200)}...</div>\r\n        <div className=\"post-card-footer\">\r\n          <div className=\"date\">{dateToShow}</div>\r\n          <div className=\"link\">Read more</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SinglePost;\r\n","export const query = {\r\n  q: \"trending\",\r\n  \"show-tags\": \"all\",\r\n  \"show-fields\": \"all\",\r\n  \"order-by\": \"relevance\",\r\n  \"api-key\": \"0cc1c5bc-7fe4-47bc-80cc-f17c13be193c\",\r\n  \"page-size\": 20,\r\n};\r\n\r\nexport const apiRoute = \"https://content.guardianapis.com/search\";\r\n","import axios from \"axios\";\r\nimport { query, apiRoute } from \"../../config\";\r\n\r\nexport const loadPosts = () =>\r\n  axios.get(\r\n    `${apiRoute}?show-fields=${query[\"show-fields\"]}&page-size=${query[\"page-size\"]}&show-tags=${query[\"show-tags\"]}&q=${query.q}&api-key=${query[\"api-key\"]}`\r\n  );\r\n\r\n// export const loadPosts = () =>\r\n//   axios.get(\r\n//     \"https://content.guardianapis.com/search?q=trending&show-tags=all&page-size=20&show-fields=all&order-by=relevance&api-key=0cc1c5bc-7fe4-47bc-80cc-f17c13be193c\"\r\n//   );\r\n","import \"./loader.css\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"loader-wrapper\">\r\n      <div className=\"loader\">...LOADING...</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import \"./message.css\";\r\n\r\nconst Message = ({ msg, type = \"success\" }) => {\r\n  return <div className={`message ${type}`}>{msg}</div>;\r\n};\r\n\r\nexport default Message;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport PostsContext from \"../../context\";\r\nimport SinglePost from \"../../Components/SinglePost/SinglePost\";\r\nimport { loadPosts } from \"../../services/api/postsApi\";\r\nimport Loader from \"../../Components/Loader/Loader\";\r\nimport Message from \"../../Components/Message/Message\";\r\nimport \"./posts.css\";\r\n\r\nconst Posts = () => {\r\n  const { filteredPosts, setInitPosts, setFilteredPosts } =\r\n    useContext(PostsContext);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isAnchorVisible, setIsAnchorVisible] = useState(false);\r\n\r\n  const handleScroll = (e) => {\r\n    if (window.scrollY > 200) {\r\n      setIsAnchorVisible(true);\r\n    } else {\r\n      setIsAnchorVisible(false);\r\n    }\r\n  };\r\n\r\n  const toTop = () => {\r\n    setIsAnchorVisible(false);\r\n    window.scrollTo({ top: 0 });\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        setIsLoading(true);\r\n        const result = await loadPosts();\r\n        const posts = result.data.response.results;\r\n        const filteredPosts = posts.sort((a, b) => {\r\n          if (a.webPublicationDate > b.webPublicationDate) {\r\n            return -1;\r\n          } else {\r\n            return 1;\r\n          }\r\n        });\r\n        setInitPosts(posts);\r\n        setFilteredPosts(posts);\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        setIsLoading(false);\r\n        console.log(error);\r\n      }\r\n    }\r\n    fetchData();\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, [setFilteredPosts, setInitPosts]);\r\n  return (\r\n    <>\r\n      <div className=\"posts-wrapper\">\r\n        {filteredPosts.length === 0 ? (\r\n          <Message type=\"error\" msg=\"Sorry, we have no posts!\" />\r\n        ) : (\r\n          filteredPosts.map((post) => <SinglePost key={post.id} post={post} />)\r\n        )}\r\n      </div>\r\n\r\n      {isLoading && <Loader />}\r\n\r\n      {isAnchorVisible && (\r\n        <div className=\"top-anchor\" onClick={toTop}>\r\n          TO TOP\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import \"./footer.css\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"footer\">\r\n      <span>New App</span> 2021 copyrights all rights reserved\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import { useParams } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport PostsContext from \"../../context\";\r\nimport \"./post.css\";\r\n\r\nconst Post = () => {\r\n  const { initPosts } = useContext(PostsContext);\r\n  const { id } = useParams();\r\n  const post = initPosts.find((item) => item.id === id);\r\n  return (\r\n    <div className=\"single-post-card\">\r\n      <div className=\"post-id\">\r\n        Post ID: <span>{id}</span>\r\n      </div>\r\n      <div className=\"title\">{post.webTitle}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport Header from \"./Components/Header/Header\";\nimport Posts from \"./Pages/Posts/Posts\";\nimport Footer from \"./Components/Footer/Footer\";\nimport Post from \"./Pages/Post/Post\";\nimport PostsContext from \"./context\";\nimport \"./App.css\";\n\nfunction App() {\n  const [filteredPosts, setFilteredPosts] = useState([]);\n  const [initPosts, setInitPosts] = useState([]);\n  return (\n    <div className=\"app\">\n      <PostsContext.Provider\n        value={{ initPosts, setInitPosts, filteredPosts, setFilteredPosts }}\n      >\n        <Router basename=\"/\">\n          <Header />\n          <Switch>\n            <Route exact path=\"/\" component={Posts} />\n            <Route path=\"/post/:id*\" component={Post} />\n          </Switch>\n          <Footer />\n        </Router>\n      </PostsContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n"],"sourceRoot":""}